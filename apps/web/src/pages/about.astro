---
import BaseLayout from '../components/layout/BaseLayout.astro';
import Container from '../components/ui/Container.astro';
import Button from '../components/ui/Button.astro';

const focusAreas = [
  {
    title: 'Payment Systems',
    description: 'Gateways, reconciliation, failure handling',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z" />`,
  },
  {
    title: 'Backend Architecture',
    description: 'APIs, services, data flows',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3" />`,
  },
  {
    title: 'Event-Driven Systems',
    description: 'Queues, workers, async processing',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5" />`,
  },
  {
    title: 'Cloud Infrastructure',
    description: 'AWS, Kubernetes, CI/CD',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-3.758-3.848 5.25 5.25 0 00-10.233 2.33A4.502 4.502 0 002.25 15z" />`,
  },
];

const principles = [
  'Clarity over cleverness',
  'Incremental over rewrite',
  'Production over assumptions',
];

const experience = [
  {
    company: 'AccuIndex',
    role: 'Lead Software Engineer',
    period: '2023 - Present',
    location: 'Dubai, UAE',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z" />`,
    highlights: [
      'Re-architected Forex CRM, improving system performance and developer velocity',
      'Led migration of 300,000+ assets to new infrastructure',
      'Built queue-based payment gateway with idempotent webhook handling',
      'Implemented Elasticsearch for improved search and indexing performance',
    ],
  },
  {
    company: 'Exiniti Information Technologies',
    role: 'Senior Software Engineer',
    period: '2020 - 2023',
    location: 'Dubai, UAE',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" />`,
    highlights: [
      'Designed role-based access control and IB hierarchy modules',
      'Built real-time rebates engine using MT5 pumping integration',
      'Developed white-label crypto exchange with live price aggregation',
      'Re-engineered backend systems for improved performance and stability',
    ],
  },
  {
    company: 'QNTM Tech',
    role: 'Software Developer',
    period: '2019 - 2020',
    location: 'Dubai, UAE',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5" />`,
    highlights: [
      'Built automated trading bot with Node.js process forking',
      'Developed web applications for business process automation',
    ],
  },
  {
    company: 'Work Simplr',
    role: 'Software Developer',
    period: '2018 - 2019',
    location: 'UK',
    icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" />`,
    highlights: [
      'Designed and developed MVP that was successfully acquired',
      'Transformed business requirements into production-ready solutions',
    ],
  },
];
---

<BaseLayout
  title="About"
  description="Senior Software Engineer / Tech Lead based in Dubai, specializing in fintech backends, payments, and system architecture."
>
  <section class="py-12">
    <Container>
      <div class="grid lg:grid-cols-3 gap-8">
        <!-- Main content -->
        <div class="lg:col-span-2 space-y-10">
          <!-- Intro -->
          <div>
            <h1 class="text-2xl md:text-3xl font-bold text-text mb-4">About</h1>
            <div class="space-y-3 text-sm">
              <p class="text-muted leading-relaxed">
                I'm a senior software engineer and technical lead based in Dubai, working primarily in fintech and financial platforms.
              </p>
              <p class="text-muted leading-relaxed">
                My work focuses on designing and operating backend systems where correctness, reliability, and performance actually matter â€” payments, wallets, transaction processing, internal platforms, and supporting infrastructure.
              </p>
            </div>
          </div>

          <!-- Focus Areas (2x2 grid) -->
          <div>
            <h2 class="text-xs font-medium text-muted uppercase tracking-wider mb-4">Focus Areas</h2>
            <div class="grid sm:grid-cols-2 gap-3">
              {focusAreas.map((area) => (
                <div class="flex items-start gap-3 p-4 card-interactive-subtle">
                  <div class="flex-shrink-0 w-8 h-8 rounded-md bg-panel-2 flex items-center justify-center">
                    <svg
                      class="w-4 h-4 text-primary"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                      set:html={area.icon}
                    />
                  </div>
                  <div class="min-w-0">
                    <h3 class="text-sm font-medium text-text">{area.title}</h3>
                    <p class="text-xs text-muted mt-0.5">{area.description}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>

          <!-- Principles (chips row) -->
          <div>
            <h2 class="text-xs font-medium text-muted uppercase tracking-wider mb-4">Principles</h2>
            <div class="flex flex-wrap gap-2">
              {principles.map((principle) => (
                <span class="inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-panel border border-border text-text">
                  {principle}
                </span>
              ))}
            </div>
          </div>

          <!-- Experience Timeline -->
          <div>
            <h2 class="text-xs font-medium text-muted uppercase tracking-wider mb-4">Experience</h2>
            <div class="space-y-4">
              {experience.map((job, index) => (
                <div class="relative">
                  {/* Connector line for all but last item */}
                  {index < experience.length - 1 && (
                    <div class="absolute left-4 top-12 bottom-0 w-px bg-border"></div>
                  )}

                  <div class="flex gap-4">
                    {/* Icon */}
                    <div class="relative z-10 flex-shrink-0 w-8 h-8 rounded-lg bg-panel border border-border flex items-center justify-center">
                      <svg
                        class="w-4 h-4 text-muted"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        set:html={job.icon}
                      />
                    </div>

                    {/* Content */}
                    <div class="flex-1 card-interactive-subtle p-4 pb-5">
                      <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between mb-2">
                        <div>
                          <h3 class="text-sm font-semibold text-text">{job.role}</h3>
                          <p class="text-xs text-muted">{job.company}</p>
                        </div>
                        <div class="text-xs text-muted mt-1 sm:mt-0 sm:text-right">
                          <p>{job.period}</p>
                          <p>{job.location}</p>
                        </div>
                      </div>
                      <ul class="space-y-1">
                        {job.highlights.map((highlight) => (
                          <li class="flex items-start gap-2 text-xs text-muted">
                            <span class="w-1 h-1 rounded-full bg-primary/60 mt-1.5 flex-shrink-0"></span>
                            {highlight}
                          </li>
                        ))}
                      </ul>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>

          <!-- Education -->
          <div>
            <h2 class="text-xs font-medium text-muted uppercase tracking-wider mb-4">Education</h2>
            <div class="flex gap-4">
              <div class="flex-shrink-0 w-8 h-8 rounded-lg bg-panel border border-border flex items-center justify-center">
                <svg class="w-4 h-4 text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5" />
                </svg>
              </div>
              <div class="card-interactive-subtle p-4 flex-1">
                <h3 class="text-sm font-semibold text-text">B.Sc. in Computer Engineering</h3>
                <p class="text-xs text-muted">Ajman University</p>
                <p class="text-xs text-muted">2013 - 2017 | Ajman, UAE</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Sidebar: "Now" Panel -->
        <div class="lg:col-span-1">
          <div class="sticky top-20">
            <div class="card-interactive-subtle p-5">
              <h2 class="text-xs font-medium text-muted uppercase tracking-wider mb-4">Now</h2>

              <div class="space-y-4">
                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 rounded-md bg-panel-2 flex items-center justify-center">
                    <svg class="w-4 h-4 text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                    </svg>
                  </div>
                  <div>
                    <p class="text-xs text-muted">Location</p>
                    <p class="text-sm text-text">Dubai, UAE</p>
                  </div>
                </div>

                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 rounded-md bg-panel-2 flex items-center justify-center">
                    <svg class="w-4 h-4 text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008z" />
                    </svg>
                  </div>
                  <div>
                    <p class="text-xs text-muted">Focus</p>
                    <p class="text-sm text-text">Fintech infrastructure</p>
                  </div>
                </div>

                <div class="flex items-center gap-3">
                  <div class="w-8 h-8 rounded-md bg-panel-2 flex items-center justify-center">
                    <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div>
                    <p class="text-xs text-muted">Availability</p>
                    <p class="text-sm text-text">Open to consulting</p>
                  </div>
                </div>
              </div>

              <div class="border-t border-border mt-5 pt-5">
                <Button href="/contact" variant="primary" class="w-full">
                  Get in Touch
                </Button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </Container>
  </section>
</BaseLayout>
